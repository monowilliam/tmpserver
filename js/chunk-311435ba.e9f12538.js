(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-311435ba"],{b07b:function(t,s,a){"use strict";var e=a("e56c"),r=a.n(e);r.a},c096:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"ag-grid-demo"}},[a("vx-card",[a("div",{attrs:{id:"titulo"}},[a("h1",[a("strong",[t._v("Listado de Usuarios")])])])]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("tabla-listado")],1)])],1)},r=[],i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("vx-card",[a("vs-table",{attrs:{data:t.users,"max-items":"8",pagination:"",search:"",noDataText:"No hay usuarios en tu búsqueda",stripe:""},on:{selected:t.mostrarDetalles},scopedSlots:t._u([{key:"default",fn:function(s){var e=s.data;return t._l(e,(function(s,r){return a("vs-tr",{key:r,attrs:{data:s}},[a("vs-td",{attrs:{data:e[r].id}},[t._v("\n\t\t\t\t\t\t"+t._s(e[r].id)+"\n\t\t\t\t\t")]),a("vs-td",{attrs:{data:e[r].email}},[t._v("\n\t\t\t\t\t\t"+t._s(e[r].email)+"\n\t\t\t\t\t")]),a("vs-td",{attrs:{data:e[r].name}},[t._v("\n\t\t\t\t\t\t"+t._s(e[r].name)+"\n\t\t\t\t\t")]),a("vs-td",{attrs:{data:e[r].username}},[t._v("\n\t\t\t\t\t\t"+t._s(e[r].username)+"\n\t\t\t\t\t")]),a("vs-td",{attrs:{data:e[r].password}},[t._v("\n\t\t\t\t\t\t"+t._s(e[r].password)+"\n\t\t\t\t\t")]),a("vs-td",{staticStyle:{"padding-left":"0px","padding-right":"0px"},attrs:{data:e[r].id}},[a("center",[a("span",{staticClass:"inline-flex relative"},[a("span",{staticClass:"p-1 inline-flex rounded-full feather-icon select-none relative text-primary mb-4",staticStyle:{background:"rgba(var(--vs-success),0.15)"},on:{click:function(s){t.editarUsuario(e[r].id),t.modalDetalles=!1}}},[a("vs-icon",{attrs:{icon:"mood",size:"25px",color:"success"}}),a("p",{staticStyle:{color:"rgba(var(--vs-success))","font-size":"10px"}},[t._v("Editar")])],1),a("span",{staticClass:"p-1 inline-flex rounded-full feather-icon select-none relative text-primary mb-4",staticStyle:{background:"rgba(var(--vs-danger),0.15)"},on:{click:function(s){t.borrarUsuario(e[r].id),t.modelDetalles=!1}}},[a("vs-icon",{attrs:{icon:"check_circle",size:"25px",color:"danger"}}),a("p",{staticStyle:{color:"rgba(var(--vs-danger))","font-size":"10px"}},[t._v("Eliminar")])],1)])])],1)],1)}))}}]),model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"id"}},[t._v("Id")]),a("vs-th",{attrs:{"sort-key":"email"}},[t._v("Correo Electrónico")]),a("vs-th",{attrs:{"sort-key":"name"}},[t._v("Nombre")]),a("vs-th",{attrs:{"sort-key":"username"}},[t._v("Nombre de Usuario")]),a("vs-th",{attrs:{"sort-key":"password"}},[t._v("Contraseña")]),a("vs-th",[t._v("Acciones")])],1)],2),a("vs-prompt",{attrs:{title:"Editar Usuarios","accept-text":"Guardar Cambios","cancel-text":"Cancelar","is-valid":t.validEdit,active:t.modalCambios},on:{cancel:t.cancelarCambios,accept:t.aceptarCambios,close:t.cancelarCambios,"update:active":function(s){t.modalCambios=s}}},[a("div",{staticClass:"con-exemple-prompt"},[a("form",[a("vx-input-group",{staticClass:"mb-base"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{name:"email","icon-pack":"feather",icon:"icon-mail","label-placeholder":"Correo Electrónico"},model:{value:t.tmpA.email,callback:function(s){t.$set(t.tmpA,"email",s)},expression:"tmpA.email"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("email")))])],1),a("vx-input-group",{staticClass:"mb-base"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:30",expression:"'required|max:30'"}],attrs:{name:"name","icon-pack":"feather",icon:"icon-user","label-placeholder":"Nombre"},model:{value:t.tmpA.name,callback:function(s){t.$set(t.tmpA,"name",s)},expression:"tmpA.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("name")))])],1),a("vx-input-group",{staticClass:"mb-base"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|max:30",expression:"'required|alpha_dash|max:30'"}],attrs:{name:"username","icon-pack":"feather",icon:"icon-users","label-placeholder":"Nombre de Usuario"},model:{value:t.tmpA.username,callback:function(s){t.$set(t.tmpA,"username",s)},expression:"tmpA.username"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("username"),expression:"errors.has('username')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("username")))])],1),a("vx-input-group",{staticClass:"mb-base"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:15",expression:"'required|min:6|max:15'"}],attrs:{name:"password","icon-pack":"feather",icon:"icon-lock","label-placeholder":"Contraseña"},model:{value:t.tmpA.password,callback:function(s){t.$set(t.tmpA,"password",s)},expression:"tmpA.password"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("password")))])],1)],1)])]),a("vs-popup",{attrs:{title:"Detalles de Usuario",active:t.modalDetalles},on:{"update:active":function(s){t.modalDetalles=s}}},[a("vs-row",[a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Id")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.id))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Correo Electrónico")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.email))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Nombre")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.name))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Nombre de Usuario")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.username))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Contraseña")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.password))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("vs-button",{attrs:{color:"primary",type:"border"},on:{click:function(s){t.modalDetalles=!1,t.modalCambios=!0}}},[t._v("Editar Usuario")])],1),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[a("vs-button",{attrs:{color:"success",type:"border"},on:{click:function(s){t.modalDetalles=!1}}},[t._v("Volver atrás")])],1)],1)],1),a("vs-prompt",{attrs:{title:"¿Borrar Usuario?","accept-text":"Borrar","cancel-text":"Cancelar","is-valid":t.validEdit,active:t.modalBorrar},on:{cancel:t.cancelarCambios,accept:t.confirmarBorrado,close:t.cancelarCambios,"update:active":function(s){t.modalBorrar=s}}},[a("div",{staticClass:"con-exemple-prompt"},[a("vs-row",[a("p",[t._v("¿Estas seguro de borrar el siguiente usuario?")]),a("br"),a("br"),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Id")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.id))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Correo Electrónico")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.email))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Nombre")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.name))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Nombre de Usuario")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.username))]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"4"}},[a("strong",[t._v("Contraseña")])]),a("vs-col",{staticClass:"details",attrs:{"vs-type":"flex","vs-w":"8"}},[t._v(t._s(t.tmpA.password))])],1)],1)])],1)},o=[],l=(a("7f7f"),a("bc3a")),n=a.n(l),c={data:function(){return{modalCambios:!1,modalDetalles:!1,modalConfirmarCambios:!1,modalBorrar:!1,selected:[],tmpI:0,tmpA:{id:"",email:"",name:"",password:"",username:""},users:[{id:"",email:"",name:"",password:"",username:""}]}},methods:{editarUsuario:function(t){for(var s=0;s<this.users.length;s++)t==this.users[s].id&&(this.modalCambios=!0,this.tmpI=s,this.tmpA.id=this.users[s].id,this.tmpA.name=this.users[s].name,this.tmpA.email=this.users[s].email,this.tmpA.username=this.users[s].username,this.tmpA.password=this.users[s].password)},mostrarDetalles:function(t){this.modalCambios||this.modalBorrar||(this.$vs.notify({title:"Seleccionado Usuarios ".concat(t.id),text:"Nombre: ".concat(t.name)}),this.tmpA=t,this.modalDetalles=!0)},aceptarCambios:function(){var t=this;this.$validator.validateAll().then((function(s){s?t.$vs.dialog({type:"confirm",color:"warning",title:"Confirmar Cambios",text:"¿Estas seguro de actualizar los datos para ".concat(t.tmpA.name,"?"),accept:t.confirmarCambios}):(t.$vs.notify({color:"danger",title:"Campos Incorrectos",text:"Debes llenar los campos correctamente",iconPack:"feather",icon:"icon-alert-circle"}),t.modalCambios=!0)}))},confirmarCambios:function(){var t=this;this.users[this.tmpI].name=this.tmpA.name,this.users[this.tmpI].username=this.tmpA.username,this.users[this.tmpI].email=this.tmpA.email,this.users[this.tmpI].password=this.tmpA.password,n.a.put(this.url.users+"/".concat(this.tmpA.id),{id:this.tmpA.id,email:this.tmpA.email,name:this.tmpA.name,password:this.tmpA.password,username:this.tmpA.username},{headers:{Authorization:this.infoUser.token}}).then((function(s){t.$vs.notify({color:"success",title:"Usuario Actualizado Correctamente",iconPack:"feather",icon:"icon-check"})})).catch((function(s){t.$vs.notify({color:"danger",title:"Error al Actualizar",text:"No se pudo actualizar los Datos de ".concat(t.tmpA.name,". Error en la API"),iconPack:"feather",icon:"icon-alert-circle"})}))},cancelarCambios:function(){this.$vs.notify({color:"danger",title:"Cambios Cancelados"})},borrarUsuario:function(t){for(var s=0;s<this.users.length;s++)t==this.users[s].id&&(this.modalBorrar=!0,this.tmpI=s,this.tmpA.id=this.users[s].id,this.tmpA.name=this.users[s].name,this.tmpA.email=this.users[s].email,this.tmpA.username=this.users[s].username,this.tmpA.password=this.users[s].password)},confirmarBorrado:function(){var t=this;n.a.delete(this.url.users+"/".concat(this.tmpA.id),{headers:{Authorization:this.infoUser.token}}).then((function(s){t.$vs.notify({color:"success",title:"Usuario Borrado Correctamente",iconPack:"feather",icon:"icon-check"}),t.users.splice(parseInt(t.tmpI),1)})).catch((function(s){console.log(s),t.$vs.notify({color:"danger",title:"Error al Borrar",text:"No se pudo borrar el usuario ".concat(t.tmpA.name,". Error en la API"),iconPack:"feather",icon:"icon-alert-circle"})}))},cargarUsuarios:function(){var t=this;n.a.get(this.url.users,{headers:{Authorization:this.infoUser.token}}).then((function(s){t.users=s.data})).catch((function(s){t.$vs.notify({color:"danger",title:"No se puede cargar la Tabla. Error en la API",text:s,iconPack:"feather",icon:"icon-alert-circle"}),console.error(s)}))}},computed:{validEdit:function(){return this.tmpA.name.length>0&&this.tmpA.password.length>0&&this.tmpA.username.length>0&&this.tmpA.email.length>0},url:function(){return this.$store.state.urlsAPI},infoUser:function(){return this.$store.state.loginInfo}},mounted:function(){this.cargarUsuarios()}},m=c,d=(a("b07b"),a("2877")),v=Object(d["a"])(m,i,o,!1,null,null,null),u=v.exports,p={components:{TablaListado:u},data:function(){return{}}},h=p,f=Object(d["a"])(h,e,r,!1,null,null,null);s["default"]=f.exports},e56c:function(t,s,a){}}]);
//# sourceMappingURL=chunk-311435ba.e9f12538.js.map